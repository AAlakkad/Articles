[TOC]
# مقدمة في تطوير قوالب ووردبريس - الجزء الثاني

تعرفنا في الدرس الماضي على كيفية البدء بتحويل قالب HTML إلى قالب ووردبريس (WordPress) ورأينا كيف يتم استخدام التسلسل الهرمي لملفات القالب، ثم أضفنا عليه بعض الوسوم لإظهار المقالات من قاعدة البيانات.

في هذا الدرس سنقوم بإظهار أرقام الصفحات في الصفحة الرئيسية عندما يكون عدد المقالات في المدونة أكبر من عدد المقالات التي يتم إظهارها في الصفحة الرئيسية.

وسنقوم بالتعرف على كيفية استخدام أجزاء القالب (Template Parts) لإظهار أرقام الصفحات في الصفحة الرئيسية (index.php) أو في غيرها إن دعت الحاجة.

## استخدام أجزاء القالب (Template Parts)

أجزاء القالب من الأمور الهامة أثناء تطوير قوالب ووردبريس، تأتي أهميتها في الحثّ على عدم التكرار وإعادة الاستخدام.
فمثلاً تحتاجُ في القالب لوضع أزرار المشاركة في عدد من الأماكن، فبدلاً من أن يتم النسخ واللصق لاستعمال الأزرار في عدد من الأمكنة، يتم استخدام أجزاء القالب، ثم استدعاء الجزء المطلوب بجملة واحدة.
بهذا نقلل من حجم الكود، ونختصر من الوقت المطلوب لإجراء التعديل على هذه الأجزاء، وبالتالي نقلل من الأخطاء المحتملة قدر الإمكان.

استخدام أجزاء القالب بسيط، يتألف من قسمين:
- القسم الأول هو كيفية تسمية الملفات (الأجزاء) بطريقة تسمح للدّالّة بإيجاد الملف.
- القسم الثاني هو استخدام الدّالّة لاستدعاء الملف المطلوب ضمن وسوم الصفحة.

### استخدام دالّة استدعاء الملف

نقوم باستخدام دالة [`get_template_part()`](http://codex.wordpress.org/Function_Reference/get_template_part) لطلب الملف الذي نريده، نمرر للدّالة اسم الملف المطلوب بالطريقة التالي:
```php
<?php
get_template_part('sharing');
?>
```
في هذه الحالة يكون اسم الملف: `sharing.php` موجود بجوار ملف `index.php` وباقي ملفات القالب.

تعمل الدّالة بشكل مشابه لدالّة [`include`](http://php.net/manual/en/function.include.php) الشهيرة ضمن لغة PHP.

فلو وضعنا ضمن ملف `sharing.php` أي محتوى سواء كان وسوم HTML أو PHP فإنه سيتم عرضه أو تنفيذه في المكان الذي استخدمنا فيه دالّة `get_template_part`.

### طريقة تسمية أجزاء القالب

سنعرض بضعة أمثلة نستشكف من خلالها كيفية وضع أسماء الملفات مع كيفية استدعاءها عن طريق الدّالّة:

اسم الملف: `pagination.php`
طريقة الاستدعاء: `<?php get_template_part('pagination');?>`

اسم الملف: `pagination.php` داخل مجلد `parts`
طريقة الاستدعاء: `<?php get_template_part('parts/pagination');?>`

اسم الملف: `pagination-posts.php`
طريقة الاستدعاء: `<?php get_template_part('pagination', 'posts');?>`

اسم الملف: `pagination-posts.php` داخل مجلد `parts`
طريقة الاستدعاء: `<?php get_template_part('parts/pagination', 'parts');?>`

#### تسمية الملفات وتمرير المحددات
- نقوم بتمرير اسم الملف إلى الدّالّة بدون لاحقة الملف `.php`.
- المحدّد الثاني للدّالّة هو الجزء الثاني من اسم الملف، الجزء الذي يأتي بعد إشارة `-`.
- في حال كان الملف داخل مجلد، نقوم بوضع المسار قبل اسم الملف.



## إضافة أرقام الصفحات **
لنقم بإضافة عدد من المقالات (ولتكن 7 على سبيل المثال)، ثم نقوم بتعديل عدد المقالات التي ستظهر في الصفحة الرئيسية لتصبح 2 فقط. 
بهذا ستكون أرقام الصفحات التي يجب أن تظهر بين 1 إلى 4 صفحات، وكل صفحة تُظهر مقالان فقط.


## إمكانية ارفاق صورة لكل مقال **
ربما لاحظت أثناء إضافة المقالات أنه لا يوجد مكان لإضافة الصورة المميزة (featured image)، وهذا صحيح، فمن أجل إظهار الصورة 
```php
<?php
add_theme_support('thumbnail');
```

### حجم الصور المميزة **
عند عرض الصورة المميزة في الشريط الجانبي، لا ينبغي أن نعرض الصورة بحجمها الطبيعي، فلو كانت الصورة بأبعاد 800*600 فلا ينبغي تصغيرها عن طريق وسوم HTML أو خصائص CSS من أجل جعل مقاسها 80*60 مثلاً ليتم عرضها في الشريط الجانبي.

توفّر ووردبريس للمطوّرين 3 أحجام جاهزة لكل صورة مميزة، يتم إنشاء هذه الحجوم بشكل تلقائي دون أي تدخّل برمجيّ من المطوّر.


### إضافة حجوم مخصصة للصورة المميزة **

ماذا لو لم تتناسب الحجوم الجاهزة للصور المميزة مع القالب الذي نقوم بإنشاءه؟
تقدّم ووردبريس خياراً لإضافة حجوم مخصصة للصور المميزة، فيتمكّن المطور من إضافة الحجم الأنسب للقالب الذي يقوم بصنعه. ليعرض الصورة دون أي تصغير أو تكبير لها عن طريق HTML أو CSS.

## إضافة القائمة الرئيسية **

يمكن إضافة العناصر للقائمة عن طريق لوحة التحكم ثم المظهر ثم القوائم.

## التعليقات **
### تجهيز صفحة المقال single.php
### إضافة ملف التعليقات

